<!-- dashboard/templates/index.html -->
<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–§—É—Ç–±–æ–ª—å–Ω–∏–π –î–∞—à–±–æ—Ä–¥ - –ì–æ–ª–æ–≤–Ω–∞</title>
</head>
<body>
    <div class="container mt-4">
        <h1 class="mb-4">–§—É—Ç–±–æ–ª—å–Ω–∏–π –î–∞—à–±–æ—Ä–¥ - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ Seria A</h1>
        
        <div class="row">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h5>–î–æ—Å—Ç—É–ø–Ω—ñ API –ï–Ω–¥–ø–æ—ñ–Ω—Ç–∏</h5>
                    </div>
                    <div class="card-body">
                        <ul class="list-group">
                            <li class="list-group-item">
                                <a href="/dashboard/api/teams/goal-difference/" target="_blank">
                                    –ö–æ–º–∞–Ω–¥–∏ –∑ –Ω–∞–π–∫—Ä–∞—â–æ—é —Ä—ñ–∑–Ω–∏—Ü–µ—é –≥–æ–ª—ñ–≤
                                </a>
                            </li>
                            <li class="list-group-item">
                                <a href="/dashboard/api/players/avg-age/" target="_blank">
                                    –°–µ—Ä–µ–¥–Ω—ñ–π –≤—ñ–∫ –≥—Ä–∞–≤—Ü—ñ–≤ –ø–æ –∫–æ–º–∞–Ω–¥–∞—Ö
                                </a>
                            </li>
                            <li class="list-group-item">
                                <a href="/dashboard/api/history/wins-by-year/" target="_blank">
                                    –ü–µ—Ä–µ–º–æ–≥–∏ –∫–æ–º–∞–Ω–¥ –ø–æ —Ä–æ–∫–∞—Ö
                                </a>
                            </li>
                            <li class="list-group-item">
                                <a href="/dashboard/api/players/top/" target="_blank">
                                    –¢–æ–ø –≥—Ä–∞–≤—Ü—ñ–≤ (–≥–æ–ª–∏ + –∞—Å–∏—Å—Ç–∏)
                                </a>
                            </li>
                            <li class="list-group-item">
                                <a href="/dashboard/api/matches/by-month/" target="_blank">
                                    –ú–∞—Ç—á—ñ –ø–æ –º—ñ—Å—è—Ü—è—Ö
                                </a>
                            </li>
                            <li class="list-group-item">
                                <a href="/dashboard/api/coaches/by-country/" target="_blank">
                                    –¢—Ä–µ–Ω–µ—Ä–∏ –ø–æ –∫—Ä–∞—ó–Ω–∞—Ö
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h5>–í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è</h5>
                    </div>
                    <div class="card-body">
                        <div class="d-grid gap-2">
                            <ul>
                                <li><a href="{% url 'plotly_dashboard' %}" class="btn btn-primary btn-lg">
                                    Plotly –î–∞—à–±–æ—Ä–¥ (6 –≥—Ä–∞—Ñ—ñ–∫—ñ–≤)
                                </a></li>
                                <li><a href="{% url 'bokeh_dashboard' %}" class="btn btn-success btn-lg">
                                    Bokeh –î–∞—à–±–æ—Ä–¥ (6 –≥—Ä–∞—Ñ—ñ–∫—ñ–≤)
                                </a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="card mt-4">
                    <div class="card-header">
                        <h5>üîç –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö</h5>
                    </div>
                    <div class="card-body">
                        <form id="filterForm">
                            <div class="mb-3">
                                <label for="teamFilter" class="form-label">–§—ñ–ª—å—Ç—Ä –ø–æ –∫–æ–º–∞–Ω–¥—ñ:</label>
                                <input type="text" class="form-control" id="teamFilter" 
                                       placeholder="–í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É –∫–æ–º–∞–Ω–¥–∏...">
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <label for="yearFrom" class="form-label">–†—ñ–∫ –≤—ñ–¥:</label>
                                    <input type="number" class="form-control" id="yearFrom" 
                                           min="2000" max="2024" value="2010">
                                </div>
                                <div class="col-md-6">
                                    <label for="yearTo" class="form-label">–†—ñ–∫ –¥–æ:</label>
                                    <input type="number" class="form-control" id="yearTo" 
                                           min="2000" max="2024" value="2024">
                                </div>
                            </div>
                            <button type="submit" class="btn btn-warning mt-3 w-100">
                                –ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ —Ñ—ñ–ª—å—Ç—Ä–∏
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="card mt-4">
            <div class="card-header">
                <h5>üìã –°—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ (–ø—Ä–∏–∫–ª–∞–¥)</h5>
            </div>
            <div class="card-body">
                <div id="statsContainer">
                    <p>–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è API –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏...</p>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // –ü—Ä–∏–∫–ª–∞–¥ AJAX –∑–∞–ø–∏—Ç—É –¥–ª—è —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó
        document.getElementById('filterForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const team = document.getElementById('teamFilter').value;
            const yearFrom = document.getElementById('yearFrom').value;
            const yearTo = document.getElementById('yearTo').value;
            
            const url = `/dashboard/api/history/wins-by-year/?team=${team}&year_from=${yearFrom}&year_to=${yearTo}`;
            
            fetch(url)
                .then(response => response.json())
                .then(data => {
                    console.log('–§—ñ–ª—å—Ç—Ä–æ–≤–∞–Ω—ñ –¥–∞–Ω—ñ:', data);
                    alert(`–ó–Ω–∞–π–¥–µ–Ω–æ ${data.data.length} –∑–∞–ø–∏—Å—ñ–≤`);
                });
        });
    </script>
</body>
</html>